# Brick — Компонентный UI для PHP

Brick — это не просто инструмент. Это философская позиция о том, каким должен быть UI-слой в SSR Web-приложениях.

---

## Пролог: О природе UI

UI — это не шаблон и не страница. Это язык, на котором приложение разговаривает с человеком.
Но в Web-мире этот язык чаще всего рождается спонтанно — как смесь логики контроллера, условных операторов в шаблонах и CSS-правил, разбросанных по всему проекту.

Такие интерфейсы пишутся быстро, но живут недолго. Они:
- **Стареют с каждым новым требованием**, обрастая правками в трёх разных местах
- **Сковывают архитектуру**, заставляя роутинг и бизнес-логику подстраиваться под вёрстку
- **Отравляют кодовую базу**, превращая его в лабиринт, где изменение кнопки может сломать таблицу

>  **Brick предлагает говорить на языке компонентов.** Не адаптеров для контроллеров, а самостоятельных, долгоживущих единиц интерфейса, которые проектируются один раз и собираются в любые страницы.

---

## Первый принцип: UI как функция

> Компонент — это чистая функция, которая принимает данные и возвращает HTML.

Ничего больше. Ничего меньше.

Это значит:
- **Нет состояния** между вызовами
- **Нет побочных эффектов** (запросов к БД, API-вызовов)
- **Нет зависимости** от глобального контекста

Ваш компонент `Button` должен работать одинаково:
- На продакшн-сервере
- В тестовом окружении  
- В изолированном скрипте
- Через 5 лет

---

## Второй принцип: Самодостаточность

> Если компонент не может жить отдельно от проекта — это не компонент.

Хороший UI-компонент подобен книге в библиотеке:
- У него есть чёткие границы (обложка)
- Он содержит всё необходимое (страницы)
- Его можно взять и перенести в другую библиотеку

Директория Brick-компонента — это и есть эта обложка.  
Всё, что внутри — целостный компонент.

---

## Третий принцип: Типизация как документация

> Типы в конструкторе компонента — это его единственный и исчерпывающий контракт.

Просто:
```php
public function __construct(
    public string $text,
    public string $variant = 'primary',
    public bool $disabled = false
) {}
```

PHP 8 дал нам инструменты для выражения намерений в коде.  
Brick заставляет использовать их.

---

## Четвёртый принцип: Стремление к изоляции

> Границы компонента должны быть максимально чёткими, а его влияние на мир — минимальным.

Полная техническая изоляция CSS и JS в вебе — сложная задача. Но это не отменяет ответственности разработчика. Каждый компонент должен **стремиться** к автономности:

- Его **CSS-классы** должны быть уникальными и семантичными.
- Его **JavaScript** должен работать в своей выделенной области, не навешивая глобальные слушатели.
- Его **DOM-структура** должна быть предсказуемым и замкнутым.

Brick не даёт магической изоляции. Он даёт структуру, которая делает её достижимой.

---

## Пятый принцип: Минимализм как добродетель

> Brick даёт ровно столько, сколько нужно для создания UI-компонентов. Ни капли больше.

Brick делает только:
- Чистое определение компонентов через классы
- Их рендеринг в HTML
- Управление CSS/JS-ассетами
- Кэширование результата
- Расширение через наследование или traits

Всё остальное — ответственность Вас или Вашего приложения.

---

## Шестой принцип: Анализируемость как право

> Код, который нельзя анализировать статически — это технический долг.

Brick-компоненты созданы для статических анализаторов:
1. PHPStan понимает Ваши свойства
2. IDE понимает Ваши типы

Это не «приятная фича». Это требование к современному PHP-коду.

UI-слой слишком важен, чтобы оставлять его без статического анализа.

---

## Эпилог: О чём на самом деле Brick

Brick — это не про «ещё один способ рендерить HTML».

Это про:
- **Ясность** вместо магии
- **Ответственность** вместо хаоса
- **Долговечность** вместо временных решений
- **Уважение** — к коллегам, к будущим себе и к самой системе

> Brick не делает UI-разработку лёгкой. Он делает её предсказуемой.

---

## Для кого это?

- Для тех, кто устал от «шаблонного раздувания»
- Для команд, которые хотят повторно использовать UI-элементы между проектами
- Для разработчиков, которые верят в **инкапсуляцию** и **семантическую целостность**
- Для тех, кто ищет лёгкий, но структурированный способ строить интерфейсы на PHP

---

## Что дальше?

- [Установка и настройка](./installation.md) — начать с чистого листа
- [Создание первого компонента](./first-component.md) — практика философии
- [Наследование и композиция](./inheritance.md) — об искусстве сочетания простого
- [Работа с ассетами](./assets.md) — о границах и ответственности
- [Кэширование и производительность](./caching.md) — о терпении и скорости
- [Лучшие практики](./best-practices.md) — о мудрости и ошибках

---

> Brick — это не фреймворк. Это набор соглашений и инструментов, которые помогают вернуть ясность в UI-разработку на PHP.